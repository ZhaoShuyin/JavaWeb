<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
    "http://struts.apache.org/dtds/struts-2.3.dtd"><!---->

<struts>
    <package name="intercepter" namespace="/inptor" extends="default">
        <interceptors>
            <interceptor name="inter1"
                class="cn.struts.day3.interceptoer.interceptor.Demo1Interceptor"></interceptor>
            <interceptor name="inter2"
                class="cn.struts.day3.interceptoer.interceptor.Demo2Interceptor"></interceptor>
        </interceptors>
        <action name="demo1" class="cn.struts.day3.interceptoer.action.Demo1Action">
            <!-- 使用拦截器 :一旦指定了任何一个拦截器，默认的就失效了-->
            <interceptor-ref name="inter2"></interceptor-ref>
            <interceptor-ref name="inter1"></interceptor-ref>
            <result>/jsp/result.jsp</result>
        </action>
    </package>

    <!-- 执行动作方法前验证用户是否登陆的拦截器 -->
    <package name="login" namespace="/login" extends="default">
        <interceptors>
            <interceptor name="checkIor"
                class="cn.struts.day3.interceptoer.interceptor.CheckLoginInterceptor" />
        </interceptors>
        <action name="save" class="cn.struts.day3.interceptoer.action.Demo2Action" method="save">
            <interceptor-ref name="checkIor" />
            <interceptor-ref name="defaultStack" /><!-- 不写无法使用struts2的拦截器 -->
            <result name="login">/jsp/intercepter/login.jsp</result>
        </action>
        <action name="update" class="cn.struts.day3.interceptoer.action.Demo2Action"
            method="update">
            <interceptor-ref name="checkIor" />
            <interceptor-ref name="defaultStack" />
            <result name="login">/jsp/intercepter/login.jsp</result>
        </action>
        <action name="login" class="cn.struts.day3.interceptoer.action.Demo2Action" method="login">
            <result>/jsp/intercepter/index.jsp</result>
        </action>
    </package>
</struts>
