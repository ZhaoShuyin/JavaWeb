<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
    "http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
    <constant name="struts.devMode" value="true" />
    <constant name="struts.ui.theme" value="simple" />
    <package name="default-example" extends="struts-default">
        <!--自定义拦截器-->
        <interceptors>

            <interceptor name="checkLoginInterceptor"
                class="cn.struts.day5.interceptor.CheckLoginInterceptor"/>

            <interceptor-stack name="myDefaultStack">
                <interceptor-ref name="defaultStack"></interceptor-ref>
                <interceptor-ref name="checkLoginInterceptor">
                    <param name="excludeMethods">login</param>
                </interceptor-ref>
            </interceptor-stack>
        </interceptors>

        <default-interceptor-ref name="myDefaultStack"/>

        <global-results>
            <result name="error">/jsp/example/error.jsp</result>
            <result name="login">/jsp/example/login.jsp</result>
        </global-results>
    </package>

    <!---->
    <package name="user" namespace="/user" extends="default-example">

        <!---->
        <action name="listUsers" class="cn.struts.day5.action.UserAction" method="listUsers">
            <result>/jsp/example/listUsers.jsp</result>
        </action>

        <!---->
        <action name="addUser" class="cn.struts.day5.action.UserAction" method="addUser">
            <result type="redirectAction">listUsers</result>            <!-- 添加成功后转向查询用户列表的动作 -->
            <result name="input">/jsp/example/addUser.jsp</result>      <!-- 转换、验证失败，input视图 -->
        </action>

        <!---->
        <action name="deleteUser" class="cn.struts.day5.action.UserAction" method="deleteUser">
            <result type="redirectAction">listUsers</result>
        </action>

        <!---->
        <action name="showUser" class="cn.struts.day5.action.UserAction" method="showUser">
            <result>/jsp/example/viewUser.jsp</result>
        </action>

        <!---->
        <action name="downloadResume" class="cn.struts.day5.action.UserAction"
            method="downloadResume">
            <result type="stream">
                <param name="inputName">inputStream</param>
                <param name="contentDisposition">attachment;filename=${downloadFileName}</param>
                <param name="contentType">application/octet-stream</param>
            </result>
        </action>

        <!--编辑 Action 的 editUserUI 方法-->
        <action name="editUserUI" class="cn.struts.day5.action.UserAction" method="editUserUI">
            <result>/jsp/example/editUser.jsp</result>
        </action>

        <!--编辑 Action 的 editUser 方法-->
        <action name="editUser" class="cn.struts.day5.action.UserAction" method="editUser">
            <result type="redirectAction">listUsers</result><!-- 添加成功后转向查询用户列表的动作 -->
            <result name="input">/jsp/example/editUser.jsp</result>     <!-- 转换、验证失败，input视图 -->
        </action>

        <!--查询 Action 的 findUser 方法-->
        <action name="findUser" class="cn.struts.day5.action.UserAction" method="findUser">
            <result>/jsp/example/listUsers.jsp</result>
        </action>

        <!--登录 Action 的 login 方法-->
        <action name="login" class="cn.struts.day5.action.UserAction" method="login">
            <result>/jsp/example/index.jsp</result>
        </action>

        <!--登出 Action 的 logout 方法-->
        <action name="logout" class="cn.struts.day5.action.UserAction" method="logout">
            <result>/jsp/example/index.jsp</result>
        </action>
    </package>
</struts>